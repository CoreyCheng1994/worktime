# Worktime 全局 UI 规范（v2）

## 1. 适用范围与执行原则
- 本规范适用于整个前端仓库：`/Users/corey/Soft/worktime/web/src`。
- 所有 UI 改动（布局、颜色、字体、组件视觉、动效、交互反馈）必须遵守本文件。
- 优先级：`ui_style.md` > 页面历史样式 > 开发者个人偏好。

## 2. 全局视觉语言
### 2.1 设计方向
- 关键词：`Warm Neutral`、`轻量信息密度`、`可读性优先`。
- 避免：高饱和大面积色块、厚重边框、过强阴影、冗余装饰元素。

### 2.2 颜色 Tokens（唯一来源）
```css
:root {
  --bg-page: #f4f1ea;
  --bg-surface: #fbfaf7;
  --bg-elevated: #ffffff;

  --text-primary: #1f2937;
  --text-secondary: #5b6472;
  --text-muted: #8a93a1;

  --border-soft: #e7e2d8;
  --border-strong: #d5cebf;

  --brand: #3b82f6;
  --brand-press: #2563eb;

  --status-todo: #3b82f6;
  --status-doing: #f59e0b;
  --status-done: #10b981;
  --status-count: #6b7280;
}
```

### 2.3 字体与字号
- 标题字体：`Fraunces`（品牌/大标题）、`Playfair Display`（日期/日历主标题）。
- 正文字体：`Space Grotesk`。
- 中文回退：`PingFang SC`、`Noto Sans SC`。
- 正文基准字号：14px；辅助信息：12px；状态标题建议 17px。

### 2.4 间距与圆角
- 8px 网格：8/12/16/24/32。
- 圆角统一建议：容器 16~20px、输入 10px、小按钮 8px。

## 3. 布局与滚动规范
### 3.1 页面层级
- `app-shell` 固定视口高度（100vh），避免全局双滚动。
- `app-content` 负责页面纵向滚动（`overflow-y: auto`）。
- 页面内部长列表必须在组件内滚动，不把滚动压力全部推给页面。

### 3.2 断点
- 桌面：`>=1200`。
- 平板：`768~1199`。
- 手机：`<768`，优先单列与可触达操作。

## 4. 导航与框架组件
### 4.1 左侧菜单（全局）
- 菜单项以 icon 为主。
- 选中态不使用明显外边框；通过文字/图标颜色与轻背景区分。
- hover 仅允许轻背景变化，不引入重描边。

### 4.2 品牌区
- 品牌名（如 Worktime）保持单行，不允许换行。
- 图标与文字组合保持固定视觉重心，不随页面内容跳动。

## 5. 看板类组件规范
### 5.1 列头
- 状态区分优先通过“文字颜色 + 字重”，不强制胶囊。
- 数字紧跟标题，且统一灰色（`--status-count`）。
- 示例：`待办 3`、`进行中 1`、`已完成 2`。

### 5.2 列容器
- 列背景使用低对比浅色，边框 1px 细线。
- 空状态文案简短，避免大块说明文字干扰。
- 列内任务列表支持独立滚动。

### 5.3 任务项（Task Item）
- 默认：无重边框、无阴影、紧凑单行展示，超长文本省略。
- hover：可出现浅灰描边（推荐 inset），禁止黑色重边框。
- 操作按钮（删除等）：默认弱化，hover 显示。
- 编辑模式：仅一个输入框 + 返回图标；
  - 失焦自动保存；
  - 点击返回图标取消本次编辑；
  - 不展示“取消/保存”双按钮。

### 5.4 状态切换
- 通过拖拽切换状态，不在 item 内显示状态选择器。
- 拖拽失败必须给出底部提示（toast/notification），不使用页面内红条阻断布局。

## 6. 日历组件规范
- 月切换 icon 与日期选中态不使用显式边框。
- 当前选中日期通过轻背景高亮，不使用厚描边。
- 今日态通过文本色强调，不额外叠加复杂边框。

## 7. 统一交互反馈
- 错误提示：优先底部气泡（toast/notification）。
- 成功提示：轻量提示自动消失。
- 禁止使用会引发布局抖动的内联错误块作为主反馈。

## 8. 动效规范
- 时长：180ms~240ms。
- 缓动：`cubic-bezier(0.2, 0.7, 0.2, 1)`。
- 优先动画属性：`opacity`、`transform`、`box-shadow`。
- 尽量避免 `height` 频繁变化导致页面抖动。

## 9. UI 实施检查清单（提交前）
- 是否符合全局 token（颜色/字体/圆角/间距）？
- 是否出现多余粗边框、黑边框、重阴影？
- 是否有组件外层与组件内层双滚动冲突？
- 是否存在状态选择器与拖拽模型重复？
- 错误反馈是否统一为底部提示？
- 移动端和窄屏下是否仍可读、可点、可滚动？

---

## 附录：`/work` 当前 UI 效果摘要（2026-02）
- 左侧菜单常驻，icon 导航，品牌 `Worktime` 单行展示。
- 主内容区为三列看板：待办 / 进行中 / 已完成。
- 列标题采用状态色文字，数字紧随标题并统一灰色。
- 待办列右上角以编辑 icon 触发统一弹窗（添加任务/自然语言解析共用 UI）。
- 任务项为紧凑单行，无状态下拉；双击进入编辑，失焦自动保存，返回 icon 取消。
- 删除 icon 位于行尾 hover 显示。
- 日历切换按钮与选中日期均为无边框风格，选中以轻背景呈现。
- 错误反馈采用右下角通知气泡，不再占用页面主布局。
